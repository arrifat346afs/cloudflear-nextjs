(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[837],{38779:(e,t,a)=>{"use strict";a.d(t,{N1:()=>r.N,WX:()=>o.W,bl:()=>s.b,h8:()=>i.h,m_:()=>l.m,uf:()=>n.u}),a(95155);var r=a(21374),s=a(56965),n=a(83540),l=a(94517),o=a(96025),i=a(16238)},53999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(52596),s=a(39688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.A)(t))}},81835:(e,t,a)=>{Promise.resolve().then(a.bind(a,96926))},88482:(e,t,a)=>{"use strict";a.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>i,Zp:()=>l,aR:()=>o,wL:()=>u});var r=a(95155),s=a(12115),n=a(53999);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});l.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h1",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});i.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},96926:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var r=a(95155),s=a(38779),n=a(12115),l=a(74466),o=a(53999);let i=(0,l.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,o.cn)(i({variant:a}),t),...s})}var c=a(88482),u=a(28184);function m(){let[e,t]=(0,n.useState)([]),[a,l]=(0,n.useState)(!0),[o,i]=(0,n.useState)(null),[m,f]=(0,n.useState)(!1),[h,x]=(0,n.useState)(!1),[p,g]=(0,n.useState)(null),b=(0,n.useRef)(null),v=(0,n.useRef)(!1),w=(0,n.useCallback)(e=>{try{if(!(e.length>0))return[];let t=e.reduce((e,t)=>{let a=new Date(t.timestamp),r=(0,u.GP)(a,"yyyy-MM-dd");e[r]||(e[r]={date:a,formattedDate:(0,u.GP)(a,"MMM d")});let s=t.modelName;return e[r][s]=(e[r][s]||0)+t.imageCount,e},{});return Object.values(t).sort((e,t)=>e.date.getTime()-t.date.getTime())}catch(e){return console.error("Error processing model data:",e),[]}},[]),j=(0,n.useCallback)(()=>[{date:new Date,formattedDate:"No Data","No Data Available":0}],[]),y=(0,n.useCallback)(async()=>{if(!h)try{x(!0),g(null);let e="https://nextjs-starter-kit-kappa-three.vercel.app/api/model-usage";console.log("Fetching data from:",e);let a=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include",cache:"no-store"});if(!a.ok)throw Error("API request failed with status ".concat(a.status));let r=await a.json();if(!r.success||!r.data)throw Error(r.error||"Failed to fetch model data");console.log("Received data:",r.data);let s=w(r.data);return t(s.length>0?s:j()),l(0===s.length),i(new Date),s}catch(e){return console.error("Error fetching model data:",e),g(e instanceof Error?e.message:"Unknown error"),t(j()),l(!0),[]}finally{x(!1)}},[j,w,h]),N=(0,n.useCallback)(async(e,t)=>{try{let a="/api/model-usage";console.log("Sending data to:",a,{modelName:e,imageCount:t});let r=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({modelName:e,imageCount:t}),credentials:"include"});if(!r.ok)throw Error("API request failed with status ".concat(r.status));let s=await r.json();if(!s.success)throw Error(s.error||"Failed to add model data");console.log("Data added successfully:",s.data),i(new Date),f(!0),l(!1),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{f(!1)},3e3),y()}catch(e){console.error("Error adding model data:",e),g(e instanceof Error?e.message:"Unknown error")}},[y]),k=(0,n.useCallback)(async()=>{try{let e="https://nextjs-starter-kit-kappa-three.vercel.app/api/model-usage";console.log("Clearing data from:",e);let a=await fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include"});if(!a.ok)throw Error("API request failed with status ".concat(a.status));let r=await a.json();if(!r.success)throw Error(r.error||"Failed to clear model data");console.log("Data cleared successfully"),t(j()),l(!0),i(null),g(null)}catch(e){console.error("Error clearing model data:",e),g(e instanceof Error?e.message:"Unknown error")}},[j]);(0,n.useEffect)(()=>{if(!v.current){v.current=!0,window.addAIModelData=N,window.clearAIModelData=k,window.refreshAIModelData=y,y();let e=e=>{if(e.data&&"ai-model-data"===e.data.type){let{modelName:t,imageCount:a}=e.data;N(t,a)}};return window.addEventListener("message",e),()=>{delete window.addAIModelData,delete window.clearAIModelData,delete window.refreshAIModelData,window.removeEventListener("message",e),b.current&&clearTimeout(b.current)}}},[N,k,y]);let D=e.length>0?Object.keys(e[0]).filter(e=>"date"!==e&&"formattedDate"!==e):[],E=e=>{let t=["#ffffff","#888888","#aaaaaa","#666666","#cccccc","#444444"];return t[e%t.length]};return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[h?(0,r.jsx)(d,{variant:"outline",className:"bg-blue-500/10 text-blue-500 border-blue-500/20",children:"Loading..."}):a?(0,r.jsx)(d,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",children:"No Data Available"}):(0,r.jsx)(d,{variant:"outline",className:"bg-green-500/10 text-green-500 border-green-500/20",children:"Using Real Data"}),m&&(0,r.jsx)(d,{variant:"outline",className:"bg-blue-500/10 text-blue-500 border-blue-500/20 animate-pulse",children:"New Data Received!"}),p&&(0,r.jsxs)(d,{variant:"outline",className:"bg-red-500/10 text-red-500 border-red-500/20",children:["Error: ",p]})]}),o&&(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Last updated: ",(0,u.GP)(o,"MMM d, yyyy HH:mm:ss")]})]}),(0,r.jsxs)("div",{className:"h-[300px] relative",children:[h&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-background/50 z-10",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"}),(0,r.jsx)("div",{className:"mt-2 text-sm text-muted-foreground",children:"Loading data..."})]})}),(0,r.jsx)(c.Zp,{className:"h-[300px] relative p-2",children:(0,r.jsx)(s.uf,{width:"100%",height:"100%",children:(0,r.jsxs)(s.bl,{data:e,children:[(0,r.jsx)(s.WX,{dataKey:"formattedDate",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,padding:{left:10,right:10},interval:4}),(0,r.jsx)(s.h8,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:e=>"".concat(e),width:30}),D.map((e,t)=>(0,r.jsx)(s.N1,{type:"monotone",dataKey:e,stroke:E(t),strokeWidth:2,dot:{r:3,strokeWidth:2},activeDot:{r:5,strokeWidth:2}},e)),(0,r.jsx)(s.m_,{content:t=>{let{active:a,payload:s,label:n}=t;if(a&&s&&s.length){let t=e.find(e=>e.formattedDate===n),a=t&&t.date instanceof Date?(0,u.GP)(t.date,"MMMM d, yyyy"):n;return(0,r.jsxs)("div",{className:"bg-black/80 border border-gray-800 p-2",children:[(0,r.jsx)("div",{className:"text-sm text-white font-medium",children:a}),s.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,r.jsxs)("span",{className:"text-gray-300",children:[e.name,":"]}),(0,r.jsxs)("span",{className:"text-white font-medium",children:[e.value," images"]})]},"item-".concat(t)))]})}return null}})]})})})]})]})}var f=a(43332),h=a(91788),x=a(57434),p=a(47863),g=a(66474),b=a(97168),v=a(88106);let w=v.bL,j=v.R6,y=v.Ke;function N(e){let t,{repoOwner:a="arrifat346afs",repoName:s="react-electron-tagpix-ai",appName:l="Tagpix AI"}=e,[o,i]=(0,n.useState)(null),[u,m]=(0,n.useState)(!0),[v,N]=(0,n.useState)(""),[k,D]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{try{m(!0);let e=await fetch("https://api.github.com/repos/".concat(a,"/").concat(s,"/releases/latest"));if(!e.ok)throw Error("GitHub API error: ".concat(e.status));let t=await e.json();i(t),t.body&&N(E(t.body))}catch(e){console.error("Error fetching release:",e)}finally{m(!1)}})()},[a,s]);let E=e=>{if(!e)return"";let t=e;for(let[e,a]of Object.entries({":rocket:":"\uD83D\uDE80",":sparkles:":"✨",":star:":"⭐",":zap:":"⚡",":fire:":"\uD83D\uDD25",":bug:":"\uD83D\uDC1B",":tada:":"\uD83C\uDF89",":books:":"\uD83D\uDCDA",":wrench:":"\uD83D\uDD27",":gear:":"⚙️",":hammer:":"\uD83D\uDD28",":art:":"\uD83C\uDFA8",":memo:":"\uD83D\uDCDD",":bulb:":"\uD83D\uDCA1",":chart_with_upwards_trend:":"\uD83D\uDCC8",":robot:":"\uD83E\uDD16",":gem:":"\uD83D\uDC8E",":speech_balloon:":"\uD83D\uDCAC",":mag:":"\uD83D\uDD0D",":lock:":"\uD83D\uDD12"}))t=t.replace(RegExp(e,"g"),a);return(t=(t=(t=(t=(t=(t=(t=t.replace(/^(#{1,6})\s*(.+)$/gm,(e,t,a)=>{let r=t.length;return"<h".concat(r,' class="font-bold text-').concat(1===r?"xl":2===r?"lg":"base",' mt-4 mb-2">').concat(a,"</h").concat(r,">")})).replace(/^(\s*)-\s*([^\s\n]+)?\s*(.+)$/gm,(e,t,a,r)=>{let s=t.length/2,n=s>0?"ml-".concat(4*s):"";if(a&&RegExp("\\p{Emoji}","u").test(a))return'<div class="flex items-start gap-2 my-1 '.concat(n,'"><span class="flex-shrink-0">').concat(a,"</span><span>").concat(r,"</span></div>");{let e=a?"".concat(a," ").concat(r):r;return'<div class="flex items-start gap-2 my-1 '.concat(n,'"><span class="flex-shrink-0">•</span><span>').concat(e,"</span></div>")}})).replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")).replace(/\*(.*?)\*/g,"<em>$1</em>")).replace(/`(.*?)`/g,'<code class="bg-muted px-1 py-0.5 rounded text-xs">$1</code>')).replace(/\[(.*?)\]\((.*?)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer" class="text-primary underline">$1</a>')).replace(/Tailored for generalist contributors/g,"Tailored for <strong>generalist contributors</strong>")).replace(/\n/g,"<br>")},_=()=>o?o.assets.find(e=>e.name.toLowerCase().endsWith(".exe")):null,C=_(),M=(null==o?void 0:o.tag_name)?(t=o.tag_name).startsWith("v")?t.substring(1):t:null,A=(null==o?void 0:o.name)||null,R=(null==o?void 0:o.published_at)?new Date(o.published_at).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):null,S=null==C?void 0:C.download_count;return u?(0,r.jsx)(c.Zp,{className:"w-full border shadow-sm",children:(0,r.jsx)(c.Wu,{className:"p-4",children:(0,r.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,r.jsx)("div",{className:"h-5 w-5 border-2 border-primary border-t-transparent rounded-full animate-spin"})})})}):o&&C?(0,r.jsx)(c.Zp,{className:"w-full border shadow-sm",children:(0,r.jsx)(c.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex flex-col space-y-3 w-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:l}),M&&(0,r.jsxs)(d,{variant:"outline",className:"text-xs px-2 py-0 h-5 font-normal",children:[(0,r.jsx)(f.A,{className:"h-3 w-3 mr-1"}),M]})]}),(0,r.jsxs)(b.$,{size:"sm",onClick:()=>{let e=_();e&&(window.location.href=e.browser_download_url)},className:"gap-1 whitespace-nowrap",children:[(0,r.jsx)(h.A,{className:"h-3.5 w-3.5"}),(0,r.jsx)("span",{children:"Download"})]})]}),A&&A!==o.tag_name&&(0,r.jsx)("p",{className:"text-xs font-medium",children:A}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,r.jsx)("span",{children:"Windows"}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:(e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return Number.parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]})(C.size)}),void 0!==S&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:[S.toLocaleString()," downloads"]})]}),R&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:["Released ",R]})]})]}),v&&(0,r.jsxs)(w,{open:k,onOpenChange:D,className:"w-full",children:[(0,r.jsx)(j,{asChild:!0,children:(0,r.jsxs)(b.$,{variant:"ghost",size:"sm",className:"w-full justify-between p-2 h-auto mt-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"text-xs font-medium",children:"Release Notes"})]}),k?(0,r.jsx)(p.A,{className:"h-4 w-4"}):(0,r.jsx)(g.A,{className:"h-4 w-4"})]})}),(0,r.jsx)(y,{className:"mt-2 border-t pt-3",children:(0,r.jsx)("div",{className:"text-sm space-y-1 release-notes",dangerouslySetInnerHTML:{__html:v}})})]})]})})}):null}function k(){return(0,r.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-semibold tracking-tight",children:"Dashboard"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Welcome to your dashboard overview."})]}),(0,r.jsx)("div",{children:(0,r.jsx)(m,{})}),(0,r.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,r.jsx)(N,{})})]})}},97168:(e,t,a)=>{"use strict";a.d(t,{$:()=>d});var r=a(95155),s=a(12115),n=a(99708),l=a(74466),o=a(53999);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-background hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,r.jsx)(u,{className:(0,o.cn)(i({variant:s,size:l,className:a})),ref:t,...c})});d.displayName="Button"}},e=>{var t=t=>e(e.s=t);e.O(0,[799,553,978,441,684,358],()=>t(81835)),_N_E=e.O()}]);